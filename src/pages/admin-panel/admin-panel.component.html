<div class="admin-panel">
  <h2 class="admin-panel__title">Панель администратора</h2>

  <mat-grid-list cols="2" rowHeight="300px" gutterSize="20px">
    <!-- Нагрузка офисов -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Нагрузка офисов</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #officeLoadCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('officeLoadToday')" [class.active]="selectedPeriod === 'officeLoadToday'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('officeLoadWeek')" [class.active]="selectedPeriod === 'officeLoadWeek'">Неделя</button>
            <button mat-button (click)="onPeriodChange('officeLoadMonth')" [class.active]="selectedPeriod === 'officeLoadMonth'">Месяц</button>
            <button mat-button (click)="onPeriodChange('officeLoadYear')" [class.active]="selectedPeriod === 'officeLoadYear'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Количество записей -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Количество записей</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #clientsCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('clientsToday')" [class.active]="selectedPeriod === 'clientsToday'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('clientsWeek')" [class.active]="selectedPeriod === 'clientsWeek'">Неделя</button>
            <button mat-button (click)="onPeriodChange('clientsMonth')" [class.active]="selectedPeriod === 'clientsMonth'">Месяц</button>
            <button mat-button (click)="onPeriodChange('clientsYear')" [class.active]="selectedPeriod === 'clientsYear'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Заработок -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Заработок</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #earningsCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('earningsToday')" [class.active]="selectedPeriod === 'earningsToday'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('earningsWeek')" [class.active]="selectedPeriod === 'earningsWeek'">Неделя</button>
            <button mat-button (click)="onPeriodChange('earningsMonth')" [class.active]="selectedPeriod === 'earningsMonth'">Месяц</button>
            <button mat-button (click)="onPeriodChange('earningsYear')" [class.active]="selectedPeriod === 'earningsYear'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Сегодняшние заказы -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Сегодняшние заказы</mat-card-title>
        <mat-card-content>
          <div class="average-check">
            Средний чек: <strong>{{ averageCheck }} ₽</strong>
          </div>
          <mat-list>
            <mat-list-item *ngFor="let order of visibleOrders">
              <span matListItemTitle>{{ order.name }}</span>
              <span matListItemLine>{{ order.amount }} ₽</span>
            </mat-list-item>
          </mat-list>
          <button mat-button (click)="toggleOrders()" color="primary">
            {{ showOrders ? 'Скрыть' : 'Показать все' }}
          </button>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('averageCheckToday')" [class.active]="selectedPeriod === 'averageCheckToday'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('averageCheckWeek')" [class.active]="selectedPeriod === 'averageCheckWeek'">Неделя</button>
            <button mat-button (click)="onPeriodChange('averageCheckMonth')" [class.active]="selectedPeriod === 'averageCheckMonth'">Месяц</button>
            <button mat-button (click)="onPeriodChange('averageCheckYear')" [class.active]="selectedPeriod === 'averageCheckYear'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Новые клиенты -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Новые клиенты</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #newClientsCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('newClientsToday')" [class.active]="selectedPeriod === 'newClientsToday'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('newClientsWeek')" [class.active]="selectedPeriod === 'newClientsWeek'">Неделя</button>
            <button mat-button (click)="onPeriodChange('newClientsMonth')" [class.active]="selectedPeriod === 'newClientsMonth'">Месяц</button>
            <button mat-button (click)="onPeriodChange('newClientsYear')" [class.active]="selectedPeriod === 'newClientsYear'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>