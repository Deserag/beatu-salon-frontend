<div class="admin-panel">
  <h2 class="admin-panel__title">Панель администратора</h2>

  <mat-grid-list cols="2" rowHeight="500px" gutterSize="20px" >
    <!-- Нагрузка офисов -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Нагрузка офисов</mat-card-title>
        <mat-card-content>
          <div class="chart-container" >
            <canvas #officeLoadCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('today', 'officeLoad')" 
                    [class.active]="selectedPeriods.officeLoad === 'today'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('week', 'officeLoad')" 
                    [class.active]="selectedPeriods.officeLoad === 'week'">Неделя</button>
            <button mat-button (click)="onPeriodChange('month', 'officeLoad')" 
                    [class.active]="selectedPeriods.officeLoad === 'month'">Месяц</button>
            <button mat-button (click)="onPeriodChange('year', 'officeLoad')" 
                    [class.active]="selectedPeriods.officeLoad === 'year'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Количество записей -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Количество записей</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #clientsCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('today', 'clients')" 
                    [class.active]="selectedPeriods.clients === 'today'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('week', 'clients')" 
                    [class.active]="selectedPeriods.clients === 'week'">Неделя</button>
            <button mat-button (click)="onPeriodChange('month', 'clients')" 
                    [class.active]="selectedPeriods.clients === 'month'">Месяц</button>
            <button mat-button (click)="onPeriodChange('year', 'clients')" 
                    [class.active]="selectedPeriods.clients === 'year'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Заработок -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Заработок</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #earningsCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('today', 'earnings')" 
                    [class.active]="selectedPeriods.earnings === 'today'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('week', 'earnings')" 
                    [class.active]="selectedPeriods.earnings === 'week'">Неделя</button>
            <button mat-button (click)="onPeriodChange('month', 'earnings')" 
                    [class.active]="selectedPeriods.earnings === 'month'">Месяц</button>
            <button mat-button (click)="onPeriodChange('year', 'earnings')" 
                    [class.active]="selectedPeriods.earnings === 'year'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Сегодняшние заказы -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Сегодняшние заказы</mat-card-title>
        <mat-card-content>
          <div class="average-check">
            Средний чек: <strong>{{ averageCheck }} ₽</strong>
          </div>
          <mat-list>
            <mat-list-item *ngFor="let order of visibleOrders">
              <span matListItemTitle>{{ order.name }}</span>
              <span matListItemLine>{{ order.amount }} ₽</span>
            </mat-list-item>
          </mat-list>
          <button mat-button (click)="toggleOrders()" color="primary">
            {{ showOrders ? 'Скрыть' : 'Показать все' }}
          </button>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('today', 'averageCheck')" 
                    [class.active]="selectedPeriods.averageCheck === 'today'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('week', 'averageCheck')" 
                    [class.active]="selectedPeriods.averageCheck === 'week'">Неделя</button>
            <button mat-button (click)="onPeriodChange('month', 'averageCheck')" 
                    [class.active]="selectedPeriods.averageCheck === 'month'">Месяц</button>
            <button mat-button (click)="onPeriodChange('year', 'averageCheck')" 
                    [class.active]="selectedPeriods.averageCheck === 'year'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Новые клиенты -->
    <mat-grid-tile>
      <mat-card class="card">
        <mat-card-title>Новые клиенты</mat-card-title>
        <mat-card-content>
          <div class="chart-container">
            <canvas #newClientsCanvas></canvas>
          </div>
          <div class="period-selector">
            <button mat-button (click)="onPeriodChange('today', 'newClients')" 
                    [class.active]="selectedPeriods.newClients === 'today'">Сегодня</button>
            <button mat-button (click)="onPeriodChange('week', 'newClients')" 
                    [class.active]="selectedPeriods.newClients === 'week'">Неделя</button>
            <button mat-button (click)="onPeriodChange('month', 'newClients')" 
                    [class.active]="selectedPeriods.newClients === 'month'">Месяц</button>
            <button mat-button (click)="onPeriodChange('year', 'newClients')" 
                    [class.active]="selectedPeriods.newClients === 'year'">Год</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>